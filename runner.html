<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />

<!-- Jasmine -->

<link rel="stylesheet" type="text/css" href="Jasmine/jasmine.css">
<link rel="stylesheet" type="text/css" href="runner.css">

<script type="text/javascript" src="Jasmine/jasmine.js"></script>

<!-- Specs -->
<script type="text/javascript" src="Helpers/jasmine-html.js"></script>
<script type="text/javascript" charset="utf-8" src="Helpers/Syn.js"></script>
<script type="text/javascript" charset="utf-8" src="Helpers/simulateEvent.js"></script>
<script type="text/javascript" charset="utf-8" src="Helpers/JSSpecToJasmine.js"></script>
<script type="text/javascript" charset="utf-8" src="Helpers/Loader.js"></script>
<script type="text/javascript" charset="utf-8" src="../Configuration.js"></script>

<script type="text/javascript" charset="utf-8">

var SetNames = [];

(function(){

// Uses String.parseQueryString from MooTools-More
// TODO Needs compat for other browsers
var parseQueryString = function(string){
	if (typeof string != 'string') return string;

	var vars = string.split(/[&;]/), res = {};
	if (vars.length) for(j = 0; j < vars.length; j++){
		(function(val){
			var index = val.indexOf('='),
				keys = index < 0 ? [''] : val.substr(0, index).match(/[^\]\[]+/g),
				value = decodeURIComponent(val.substr(index + 1)),
				obj = res;
			for(var j = 0; j < keys.length; j++){
				(function(key, i){
					var current = obj[key];
					if(i < keys.length - 1)
						obj = obj[key] = current || {};
					else if(current && isArray(current))
						current.push(value);
					else
						obj[key] = current != null ? [current, value] : value;
				})(keys[j], j);
			}
	
		})(vars[j]);
	}
	return res;
};


// Load all the specs
var options = parseQueryString(document.location.search.substr(1));
var loader = SpecLoader(Configuration, options);

var load = function(object, base){
	for (var j = 0; j < object.length; j++)
		document.write('<scr'+'ipt src="../' + (base || '') + object[j] + '.js" type="text/javascript"><\/script>');
};

loader.setSourceLoader(load).setSpecLoader(load);

loader.run();

SetNames = loader.getSetNames();

window.startSpecRunner = function(){
	// Run the specs
	jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
	jasmine.getEnv().execute();
	
	// Change title
	document.title = 'Specs for ' + Configuration.name;
};

if (!window.onload) window.onload = window.startSpecRunner;

})();
</script>

<title></title>
</head>
<body>
	<div id="framework_name"><script>document.write(Configuration.name + ' [' + SetNames.join(', ') + ']')</script></div>
</body>
</html>
